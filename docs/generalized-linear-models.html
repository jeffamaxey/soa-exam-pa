<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Generalized Linear Models | Society of Actuaries Exam PA</title>
  <meta name="description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.40 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Generalized Linear Models | Society of Actuaries Exam PA" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  <meta name="github-repo" content="jeffamaxey/soa-exam-pa" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Generalized Linear Models | Society of Actuaries Exam PA" />
  
  <meta name="twitter:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  

<meta name="author" content="Jeff A. Maxey" />


<meta name="date" content="2024-10-07" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="linear-models.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />



<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="assets/css/style.css" type="text/css" />
<link rel="stylesheet" href="assets/css/toc.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Society of Actuaries Exam PA</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i>Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#getting-started"><i class="fa fa-check"></i>Getting Started</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#system-requirements"><i class="fa fa-check"></i>System Requirements</a></li>
</ul></li>
<li class="part"><span><b>I A Crash Course in R</b></span></li>
<li class="chapter" data-level="1" data-path="basics-of-r-programming.html"><a href="basics-of-r-programming.html"><i class="fa fa-check"></i><b>1</b> Basics of R Programming</a>
<ul>
<li class="chapter" data-level="1.1" data-path="basics-of-r-programming.html"><a href="basics-of-r-programming.html#data-types-in-r"><i class="fa fa-check"></i><b>1.1</b> Data Types in R</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="basics-of-r-programming.html"><a href="basics-of-r-programming.html#exercise-1.2.2---calculating-least-squares-estimates-by-matrix-manipulation"><i class="fa fa-check"></i><b>1.1.1</b> Exercise 1.2.2 - Calculating least squares estimates by matrix manipulation</a></li>
<li class="chapter" data-level="1.1.2" data-path="basics-of-r-programming.html"><a href="basics-of-r-programming.html#data-frames"><i class="fa fa-check"></i><b>1.1.2</b> Data Frames</a></li>
<li class="chapter" data-level="1.1.3" data-path="basics-of-r-programming.html"><a href="basics-of-r-programming.html#exercise-1.2.3---listing-the-components-of-a-list"><i class="fa fa-check"></i><b>1.1.3</b> Exercise 1.2.3 - Listing the components of a list</a></li>
<li class="chapter" data-level="1.1.4" data-path="basics-of-r-programming.html"><a href="basics-of-r-programming.html#functions"><i class="fa fa-check"></i><b>1.1.4</b> Functions</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="basics-of-r-programming.html"><a href="basics-of-r-programming.html#basic-data-management"><i class="fa fa-check"></i><b>1.2</b> Basic Data Management</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="basics-of-r-programming.html"><a href="basics-of-r-programming.html#task-1-removing-unimportant-variables"><i class="fa fa-check"></i><b>1.2.1</b> Task 1: Removing Unimportant Variables</a></li>
<li class="chapter" data-level="1.2.2" data-path="basics-of-r-programming.html"><a href="basics-of-r-programming.html#task-2-missing-values"><i class="fa fa-check"></i><b>1.2.2</b> Task 2: Missing Values</a></li>
<li class="chapter" data-level="1.2.3" data-path="basics-of-r-programming.html"><a href="basics-of-r-programming.html#task-3-adding-new-variables"><i class="fa fa-check"></i><b>1.2.3</b> Task 3: Adding New Variables</a></li>
<li class="chapter" data-level="1.2.4" data-path="basics-of-r-programming.html"><a href="basics-of-r-programming.html#task-4-using-logical-tests-to-identify-observations-with-certain-characteristics"><i class="fa fa-check"></i><b>1.2.4</b> Task 4: Using Logical Tests to Identify Observations with Certain Characteristics</a></li>
<li class="chapter" data-level="1.2.5" data-path="basics-of-r-programming.html"><a href="basics-of-r-programming.html#end-of-chapter-1-practice-problems"><i class="fa fa-check"></i><b>1.2.5</b> End of Chapter 1 Practice Problems</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-exploration-and-visualization.html"><a href="data-exploration-and-visualization.html"><i class="fa fa-check"></i><b>2</b> Data Exploration and Visualization</a>
<ul>
<li class="chapter" data-level="" data-path="data-exploration-and-visualization.html"><a href="data-exploration-and-visualization.html#chapter-02-overview"><i class="fa fa-check"></i>Chapter Overview</a></li>
<li class="chapter" data-level="2.1" data-path="data-exploration-and-visualization.html"><a href="data-exploration-and-visualization.html#chapter-02-making-ggplots"><i class="fa fa-check"></i><b>2.1</b> Making <code>ggplots</code></a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="data-exploration-and-visualization.html"><a href="data-exploration-and-visualization.html#chapter-02-making-ggplots-basic-features"><i class="fa fa-check"></i><b>2.1.1</b> Basic Features</a></li>
<li class="chapter" data-level="2.1.2" data-path="data-exploration-and-visualization.html"><a href="data-exploration-and-visualization.html#chapter-02-making-ggplots-customizing-your-plots"><i class="fa fa-check"></i><b>2.1.2</b> Customizing Your Plots</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="data-exploration-and-visualization.html"><a href="data-exploration-and-visualization.html#chapter-02-data-exploration"><i class="fa fa-check"></i><b>2.2</b> Data Exploration</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="data-exploration-and-visualization.html"><a href="data-exploration-and-visualization.html#chapter-02-data-exploration-univariate"><i class="fa fa-check"></i><b>2.2.1</b> Univariate Data Exploration</a></li>
<li class="chapter" data-level="2.2.2" data-path="data-exploration-and-visualization.html"><a href="data-exploration-and-visualization.html#chapter-02-data-exploration-bivariate"><i class="fa fa-check"></i><b>2.2.2</b> Bivariate Data Exploration</a></li>
<li class="chapter" data-level="2.2.3" data-path="data-exploration-and-visualization.html"><a href="data-exploration-and-visualization.html#end-of-chapter-practice-problems"><i class="fa fa-check"></i><b>2.2.3</b> End-of-Chapter Practice Problems</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Theory of and Case Studies in Predictive Analytics</b></span></li>
<li class="chapter" data-level="3" data-path="linear-models.html"><a href="linear-models.html"><i class="fa fa-check"></i><b>3</b> Linear Models</a>
<ul>
<li class="chapter" data-level="3.1" data-path="linear-models.html"><a href="linear-models.html#a-primer-on-predictive-analytics"><i class="fa fa-check"></i><b>3.1</b> A Primer on Predictive Analytics</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="linear-models.html"><a href="linear-models.html#basic-terminology"><i class="fa fa-check"></i><b>3.1.1</b> Basic Terminology</a></li>
<li class="chapter" data-level="3.1.2" data-path="linear-models.html"><a href="linear-models.html#the-model-building-process"><i class="fa fa-check"></i><b>3.1.2</b> The Model Building Process</a></li>
<li class="chapter" data-level="3.1.3" data-path="linear-models.html"><a href="linear-models.html#bias-variance-trade-off"><i class="fa fa-check"></i><b>3.1.3</b> Bias-Variance Trade-Off</a></li>
<li class="chapter" data-level="3.1.4" data-path="linear-models.html"><a href="linear-models.html#feature-generation-and-selection"><i class="fa fa-check"></i><b>3.1.4</b> Feature Generation and Selection</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="linear-models.html"><a href="linear-models.html#linear-models-conceptual-foundation"><i class="fa fa-check"></i><b>3.2</b> Linear Models: Conceptual Foundation</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="linear-models.html"><a href="linear-models.html#model-formulation"><i class="fa fa-check"></i><b>3.2.1</b> Model Formulation</a></li>
<li class="chapter" data-level="3.2.2" data-path="linear-models.html"><a href="linear-models.html#model-evaluation-and-validation"><i class="fa fa-check"></i><b>3.2.2</b> Model Evaluation and Validation</a></li>
<li class="chapter" data-level="3.2.3" data-path="linear-models.html"><a href="linear-models.html#feature-generation"><i class="fa fa-check"></i><b>3.2.3</b> Feature Generation</a></li>
<li class="chapter" data-level="3.2.4" data-path="linear-models.html"><a href="linear-models.html#feature-selection"><i class="fa fa-check"></i><b>3.2.4</b> Feature Selection</a></li>
<li class="chapter" data-level="3.2.5" data-path="linear-models.html"><a href="linear-models.html#regularization"><i class="fa fa-check"></i><b>3.2.5</b> Regularization</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="linear-models.html"><a href="linear-models.html#case-study-1-fitting-linear-models-in-r"><i class="fa fa-check"></i><b>3.3</b> Case Study 1: Fitting Linear Models in R</a>
<ul>
<li class="chapter" data-level="" data-path="linear-models.html"><a href="linear-models.html#about-this-case-study"><i class="fa fa-check"></i><strong>About this Case Study</strong></a></li>
<li class="chapter" data-level="3.3.1" data-path="linear-models.html"><a href="linear-models.html#exploratory-data-analysis"><i class="fa fa-check"></i><b>3.3.1</b> Exploratory Data Analysis</a></li>
<li class="chapter" data-level="3.3.2" data-path="linear-models.html"><a href="linear-models.html#simple-linear-regression"><i class="fa fa-check"></i><b>3.3.2</b> Simple Linear Regression</a></li>
<li class="chapter" data-level="3.3.3" data-path="linear-models.html"><a href="linear-models.html#multiple-linear-regression"><i class="fa fa-check"></i><b>3.3.3</b> Multiple Linear Regression</a></li>
<li class="chapter" data-level="3.3.4" data-path="linear-models.html"><a href="linear-models.html#evaluation-of-linear-models"><i class="fa fa-check"></i><b>3.3.4</b> Evaluation of Linear Models</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="linear-models.html"><a href="linear-models.html#case-study-2-feature-selection-and-regularization"><i class="fa fa-check"></i><b>3.4</b> Case Study 2: Feature Selection and Regularization</a>
<ul>
<li class="chapter" data-level="" data-path="linear-models.html"><a href="linear-models.html#about-this-case-study-1"><i class="fa fa-check"></i>About this Case Study</a></li>
<li class="chapter" data-level="" data-path="linear-models.html"><a href="linear-models.html#data-dictionary"><i class="fa fa-check"></i>Data Dictionary</a></li>
<li class="chapter" data-level="3.4.1" data-path="linear-models.html"><a href="linear-models.html#preparatory-work"><i class="fa fa-check"></i><b>3.4.1</b> Preparatory Work</a></li>
<li class="chapter" data-level="" data-path="linear-models.html"><a href="linear-models.html#task-1-consider-a-data-issue"><i class="fa fa-check"></i>TASK 1: Consider a Data Issue</a></li>
<li class="chapter" data-level="" data-path="linear-models.html"><a href="linear-models.html#task-2-explore-the-numeric-variables"><i class="fa fa-check"></i>TASK 2: Explore the Numeric Variables</a></li>
<li class="chapter" data-level="" data-path="linear-models.html"><a href="linear-models.html#task-3-explore-the-factor-variables"><i class="fa fa-check"></i>TASK 3: Explore the Factor Variables</a></li>
<li class="chapter" data-level="" data-path="linear-models.html"><a href="linear-models.html#task-4-consider-two-graphs"><i class="fa fa-check"></i>TASK 4: Consider Two Graphs</a></li>
<li class="chapter" data-level="" data-path="linear-models.html"><a href="linear-models.html#task-5-explore-the-effect-of-releveling-factor-variables"><i class="fa fa-check"></i>TASK 5: Explore the Effect of Releveling Factor Variables</a></li>
<li class="chapter" data-level="" data-path="linear-models.html"><a href="linear-models.html#task-6-binarize-factor-variables-manually"><i class="fa fa-check"></i>TASK 6: Binarize Factor Variables Manually</a></li>
<li class="chapter" data-level="3.4.2" data-path="linear-models.html"><a href="linear-models.html#model-construction-and-feature-selection"><i class="fa fa-check"></i><b>3.4.2</b> Model Construction and Feature Selection</a></li>
<li class="chapter" data-level="" data-path="linear-models.html"><a href="linear-models.html#task-7-select-features-using-stepwise-selection"><i class="fa fa-check"></i>TASK 7: Select Features using Stepwise Selection</a></li>
<li class="chapter" data-level="3.4.3" data-path="linear-models.html"><a href="linear-models.html#model-validation"><i class="fa fa-check"></i><b>3.4.3</b> Model Validation</a></li>
<li class="chapter" data-level="" data-path="linear-models.html"><a href="linear-models.html#task-8-select-and-validate-the-recommended-model"><i class="fa fa-check"></i>TASK 8: Select and Validate the Recommended Model</a></li>
<li class="chapter" data-level="3.4.4" data-path="linear-models.html"><a href="linear-models.html#regularization-2"><i class="fa fa-check"></i><b>3.4.4</b> Regularization</a></li>
<li class="chapter" data-level="" data-path="linear-models.html"><a href="linear-models.html#task-9-effect-of-regularization"><i class="fa fa-check"></i>TASK 9: Effect of Regularization</a></li>
<li class="chapter" data-level="" data-path="linear-models.html"><a href="linear-models.html#task-10-perform-feature-selection-with-regularization"><i class="fa fa-check"></i>TASK 10: Perform Feature Selection with Regularization</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="linear-models.html"><a href="linear-models.html#conceptual-review-questions-for-chapter-3"><i class="fa fa-check"></i>Conceptual Review: Questions for Chapter 3</a>
<ul>
<li class="chapter" data-level="3.4.5" data-path="linear-models.html"><a href="linear-models.html#q3.1-explain-the-objectives-of-descriptive-predictive-and-prescriptive-modeling."><i class="fa fa-check"></i><b>3.4.5</b> Q3.1: Explain the objectives of descriptive, predictive and prescriptive modeling.</a></li>
<li class="chapter" data-level="3.4.6" data-path="linear-models.html"><a href="linear-models.html#q3.2-explain-two-differences-between-supervised-and-unsupervised-learning."><i class="fa fa-check"></i><b>3.4.6</b> Q3.2: Explain two differences between supervised and unsupervised learning.</a></li>
<li class="chapter" data-level="3.4.7" data-path="linear-models.html"><a href="linear-models.html#q3.3-explain-the-main-difference-between-regression-and-classification-problems."><i class="fa fa-check"></i><b>3.4.7</b> Q3.3: Explain the main difference between regression and classification problems.</a></li>
<li class="chapter" data-level="3.4.8" data-path="linear-models.html"><a href="linear-models.html#q3.4-explain-three-characteristics-of-predictive-modeling-problems."><i class="fa fa-check"></i><b>3.4.8</b> Q3.4: Explain three characteristics of predictive modeling problems.</a></li>
<li class="chapter" data-level="3.4.9" data-path="linear-models.html"><a href="linear-models.html#q3.4-explain-three-characteristics-of-predictive-modeling-problems.-1"><i class="fa fa-check"></i><b>3.4.9</b> Q3.4: Explain three characteristics of predictive modeling problems.</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="generalized-linear-models.html"><a href="generalized-linear-models.html"><i class="fa fa-check"></i><b>4</b> Generalized Linear Models</a>
<ul>
<li class="chapter" data-level="4.1" data-path="generalized-linear-models.html"><a href="generalized-linear-models.html#conceptual-foundations-of-glms"><i class="fa fa-check"></i><b>4.1</b> Conceptual Foundations of GLMs</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="generalized-linear-models.html"><a href="generalized-linear-models.html#selection-of-target-distributions-and-link-functions"><i class="fa fa-check"></i><b>4.1.1</b> Selection of Target Distributions and Link Functions</a></li>
<li class="chapter" data-level="4.1.2" data-path="generalized-linear-models.html"><a href="generalized-linear-models.html#weights-and-offsets"><i class="fa fa-check"></i><b>4.1.2</b> Weights and Offsets</a></li>
<li class="chapter" data-level="4.1.3" data-path="generalized-linear-models.html"><a href="generalized-linear-models.html#fitting-and-assessing-the-performance-of-a-glm"><i class="fa fa-check"></i><b>4.1.3</b> Fitting and Assessing the Performance of a GLM</a></li>
<li class="chapter" data-level="4.1.4" data-path="generalized-linear-models.html"><a href="generalized-linear-models.html#performance-metrics-for-classifiers"><i class="fa fa-check"></i><b>4.1.4</b> Performance Metrics for Classifiers</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="generalized-linear-models.html"><a href="generalized-linear-models.html#case-study-1-glms-for-continuous-target-variables"><i class="fa fa-check"></i><b>4.2</b> Case Study 1: GLMs for Continuous Target Variables</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="generalized-linear-models.html"><a href="generalized-linear-models.html#data-preparation"><i class="fa fa-check"></i><b>4.2.1</b> Data Preparation</a></li>
<li class="chapter" data-level="4.2.2" data-path="generalized-linear-models.html"><a href="generalized-linear-models.html#model-construction-and-evaluation"><i class="fa fa-check"></i><b>4.2.2</b> Model Construction and Evaluation</a></li>
<li class="chapter" data-level="4.2.3" data-path="generalized-linear-models.html"><a href="generalized-linear-models.html#model-validation-and-interpretation"><i class="fa fa-check"></i><b>4.2.3</b> Model Validation and Interpretation</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="generalized-linear-models.html"><a href="generalized-linear-models.html#case-study-2-glms-for-binary-target-variables"><i class="fa fa-check"></i><b>4.3</b> Case Study 2: GLMs for Binary Target Variables</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="generalized-linear-models.html"><a href="generalized-linear-models.html#data-exploration-and-preparation"><i class="fa fa-check"></i><b>4.3.1</b> Data Exploration and Preparation</a></li>
<li class="chapter" data-level="4.3.2" data-path="generalized-linear-models.html"><a href="generalized-linear-models.html#model-construction-and-selection"><i class="fa fa-check"></i><b>4.3.2</b> Model Construction and Selection</a></li>
<li class="chapter" data-level="4.3.3" data-path="generalized-linear-models.html"><a href="generalized-linear-models.html#interpretation-of-model-results"><i class="fa fa-check"></i><b>4.3.3</b> Interpretation of Model Results</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="generalized-linear-models.html"><a href="generalized-linear-models.html#case-study-3-glms-for-count-and-aggregate-loss-variables"><i class="fa fa-check"></i><b>4.4</b> Case Study 3: GLMs for Count and Aggregate Loss Variables</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="generalized-linear-models.html"><a href="generalized-linear-models.html#data-exploration-and-preparation-1"><i class="fa fa-check"></i><b>4.4.1</b> Data Exploration and Preparation</a></li>
<li class="chapter" data-level="4.4.2" data-path="generalized-linear-models.html"><a href="generalized-linear-models.html#model-construction-and-evaluation-1"><i class="fa fa-check"></i><b>4.4.2</b> Model Construction and Evaluation</a></li>
<li class="chapter" data-level="4.4.3" data-path="generalized-linear-models.html"><a href="generalized-linear-models.html#predictions-1"><i class="fa fa-check"></i><b>4.4.3</b> Predictions</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/jeffamaxey/soa-exam-pa" target="blank">Github Repository</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Society of Actuaries Exam PA</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="generalized-linear-models" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">Chapter 4</span> Generalized Linear Models<a href="generalized-linear-models.html#generalized-linear-models" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="conceptual-foundations-of-glms" class="section level2 hasAnchor" number="4.1">
<h2><span class="header-section-number">4.1</span> Conceptual Foundations of GLMs<a href="generalized-linear-models.html#conceptual-foundations-of-glms" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>Motivating Examples in Insurance</strong></p>
<ol style="list-style-type: decimal">
<li><strong>Binary variables</strong>
<ul>
<li><strong>Examples</strong>: yes/no, claim/no claim, alive/dead, solvent/insolvent</li>
<li><strong>Problem</strong>: Can take only two values, zero (non-event) or one (event)</li>
</ul></li>
<li><strong>Count variables</strong>
<ul>
<li><strong>Examples</strong>: No. of claims, accidents, deaths</li>
<li><strong>Problem</strong>: Can take the value of any non-negative integers</li>
</ul></li>
<li><strong>Positive continuous variables</strong>
<ul>
<li><strong>Examples</strong>: Income and claim severity</li>
<li><strong>Problem</strong>: Takes only positive values and may be highly skewed</li>
</ul></li>
</ol>
<p><strong>Question</strong>: Generalize a linear model to analyze these variables?</p>
<hr />
<p><strong>GLM Component 1: Target Distributions</strong></p>
<ul>
<li><strong>Linear Models (LMs)</strong>: <span class="math inline">\(Y \sim \text{normal}\)</span></li>
<li><strong>Generalized Linear Models (GLMs)</strong>: <span class="math inline">\(Y \sim \text{linear exponential family}\)</span></li>
</ul>
<p><strong>A “monster” revisited…</strong></p>
<ul>
<li><strong>Probability function</strong>: <span class="math display">\[
f(y; \theta, \phi) = \exp \left( \frac{y \theta - b(\theta)}{\phi} + S(y, \phi) \right)
\]</span> <em>No need to memorize for PA!</em></li>
</ul>
<p><strong>Things to keep in mind:</strong></p>
<ul>
<li>A <strong>rich class of distributions</strong> that includes a number of common <strong>discrete</strong> and <strong>continuous</strong> distributions</li>
<li><strong>Examples</strong>: Normal, gamma, inverse Gaussian, Poisson, binomial</li>
<li>Provides a <strong>unifying approach</strong> to modeling binary, discrete, and continuous target variables, all within the <strong>same statistical framework</strong></li>
</ul>
<hr />
<p><strong>GLM Component 2: Link Functions</strong></p>
<ul>
<li><strong>Linear Models (LMs)</strong>: <span class="math display">\[
\mu = \eta = \beta_0 + \beta_1 X_1 + \dots + \beta_p X_p
\]</span></li>
<li><strong>Generalized Linear Models (GLMs)</strong>: <span class="math display">\[
g(\mu) = \eta = \beta_0 + \beta_1 X_1 + \dots + \beta_p X_p
\]</span></li>
</ul>
<p><strong>Link Functions</strong></p>
<ul>
<li>Equate a <strong>function</strong> of the target mean with the linear predictor.</li>
<li><span class="math inline">\(g\)</span> can be any <strong>monotonic function</strong> (e.g., identity, log, inverse, square root).</li>
<li>Allows analysis of situations where the <strong>effects</strong> of the predictors on the target mean are <strong>more complex</strong> than additive.</li>
</ul>
<p><strong>Special Case: Linear Models</strong></p>
<ul>
<li><strong>Target distribution</strong>: Normal</li>
<li><strong>Link function</strong>: Identity, <span class="math inline">\(g(\mu) = \mu\)</span></li>
</ul>
<hr />
<p><strong>Warning: GLMs do NOT Transform Target Variables!</strong></p>
<p><strong>A common misconception about GLMs:</strong></p>
<blockquote>
<p>“GLMs transform the (non-normal) target variable so that it can be reasonably described by a linear model.”</p>
<p><strong>WRONG!!!</strong></p>
</blockquote>
<p><strong>Truth:</strong></p>
<ul>
<li>The <strong>link function</strong> <span class="math inline">\(g\)</span> is applied to the <strong>target mean</strong> <span class="math inline">\(\mu\)</span>.</li>
<li>The <strong>target variable</strong> <span class="math inline">\(Y\)</span> is left <strong>untransformed</strong>.</li>
</ul>
<hr />
<p><strong>Two Examples with the Log Transformation</strong></p>
<p><strong>Model 1 (Transformed target)</strong></p>
<ul>
<li><strong>Definition</strong>: <span class="math inline">\(\ln Y = \eta + \epsilon\)</span> or <span class="math inline">\(Y = \exp(\eta + \epsilon)\)</span></li>
<li><strong>What kind of model</strong>: Linear model fitted to <span class="math inline">\(\ln Y\)</span> (i.e., log-transformed)</li>
<li><strong>Behavior of target</strong>: Lognormal; target must be positive</li>
</ul>
<p><strong>Model 2 (Transformed mean)</strong></p>
<ul>
<li><strong>Definition</strong>:
<ol style="list-style-type: decimal">
<li><span class="math inline">\(Y \sim \text{normal}\)</span></li>
<li><span class="math inline">\(\ln \mu = \eta\)</span> or <span class="math inline">\(\mu = \exp(\eta)\)</span></li>
</ol></li>
<li><strong>What kind of model</strong>: GLM with normal target and log link</li>
<li><strong>Behavior of target</strong>: Mean is positive; target can take any real values</li>
</ul>
<hr />
<div id="selection-of-target-distributions-and-link-functions" class="section level3 hasAnchor" number="4.1.1">
<h3><span class="header-section-number">4.1.1</span> Selection of Target Distributions and Link Functions<a href="generalized-linear-models.html#selection-of-target-distributions-and-link-functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="from-past-pa-exams-1" class="section level4 unnumbered hasAnchor">
<h4>From Past PA Exams<a href="generalized-linear-models.html#from-past-pa-exams-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div id="december-7-2020-exam-task-8" class="section level5 unnumbered hasAnchor">
<h5>December 7, 2020 Exam, Task 8<a href="generalized-linear-models.html#december-7-2020-exam-task-8" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<ul>
<li>Your assistant has prepared code to fit two GLMs to the data, using the <strong>Poisson</strong> and <strong>gamma</strong> distributions, each with its <strong>canonical link function</strong>.</li>
<li>Explain whether each choice for distribution and link function is <strong>reasonable</strong> for this data and business problem.</li>
</ul>
</div>
<div id="december-8-2020-exam-task-7" class="section level5 unnumbered hasAnchor">
<h5>December 8, 2020 Exam, Task 7<a href="generalized-linear-models.html#december-8-2020-exam-task-7" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<ul>
<li>Explain why <strong>Poisson</strong> is a <strong>reasonable distribution choice</strong> for this problem.</li>
<li>State <strong>two other reasonable choices of distribution</strong>.</li>
</ul>
</div>
<div id="december-2019-exam-task-7" class="section level5 unnumbered hasAnchor">
<h5>December 2019 Exam, Task 7<a href="generalized-linear-models.html#december-2019-exam-task-7" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<ul>
<li>Determine a <strong>distribution and link function</strong> to use.</li>
<li>Justify your choice of distribution based on the business problem and data.</li>
</ul>
<hr />
</div>
</div>
<div id="target-distribution" class="section level4 unnumbered hasAnchor">
<h4>Target Distribution<a href="generalized-linear-models.html#target-distribution" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div id="general-principle" class="section level5 unnumbered hasAnchor">
<h5>General Principle<a href="generalized-linear-models.html#general-principle" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Choose a distribution from the linear exponential family that <strong>best aligns</strong> with the <strong>characteristics</strong> of the target.</p>
</div>
<div id="examples" class="section level5 unnumbered hasAnchor">
<h5>Examples<a href="generalized-linear-models.html#examples" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<ol style="list-style-type: decimal">
<li><strong>Positive, right-skewed variable:</strong>
<ul>
<li>Examples: Claim amounts, income</li>
<li>Candidate distributions: <strong>Gamma</strong>, <strong>inverse Gaussian</strong></li>
</ul></li>
<li><strong>Binary variable:</strong>
<ul>
<li>Example: Indicator (0/1)</li>
<li>Distribution: <strong>Binomial (Bernoulli)</strong></li>
</ul></li>
<li><strong>Count variable:</strong>
<ul>
<li>Examples: No. of claims, accidents, etc.</li>
<li>Candidate distribution: <strong>Poisson</strong></li>
</ul></li>
</ol>
<hr />
</div>
</div>
<div id="link-function-important-considerations" class="section level4 unnumbered hasAnchor">
<h4>Link Function: Important Considerations<a href="generalized-linear-models.html#link-function-important-considerations" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div id="consideration-1-appropriateness-of-predictions" class="section level5 unnumbered hasAnchor">
<h5>Consideration 1: Appropriateness of predictions<a href="generalized-linear-models.html#consideration-1-appropriateness-of-predictions" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Make sure model predictions <strong>match</strong> the range of values of the target mean: <span class="math display">\[
g(\mu) = \eta \quad \Rightarrow \quad \mu = g^{-1}(\eta) \quad \Rightarrow \quad \hat{\mu} = g^{-1}(\hat{\eta}) \quad \text{(prediction)}
\]</span></p>
<div id="example-1-positive-unbounded-target-mean" class="section level6 unnumbered hasAnchor">
<h6>Example 1: Positive, unbounded target mean<a href="generalized-linear-models.html#example-1-positive-unbounded-target-mean" class="anchor-section" aria-label="Anchor link to header"></a></h6>
<ul>
<li><strong>Good link:</strong> Log link <span class="math inline">\(g(\mu) = \ln \mu \Rightarrow \hat{\mu} = e^{\hat{\eta}} \geq 0\)</span></li>
<li><strong>Bad link:</strong> Identity link <span class="math inline">\(g(\mu) = \mu \Rightarrow \hat{\mu} = \hat{\eta} \in \mathbb{R}\)</span></li>
</ul>
</div>
<div id="example-2-unit-valued-target-mean-probability" class="section level6 unnumbered hasAnchor">
<h6>Example 2: Unit-valued target mean (= probability)<a href="generalized-linear-models.html#example-2-unit-valued-target-mean-probability" class="anchor-section" aria-label="Anchor link to header"></a></h6>
<ul>
<li><strong>Logit link:</strong> <span class="math inline">\(g(\mu) = \ln \left( \frac{\mu}{1 - \mu} \right) \Rightarrow \hat{\mu} = \frac{e^{\hat{\eta}}}{1 + e^{\hat{\eta}}} \in [0, 1]\)</span></li>
</ul>
</div>
</div>
<div id="consideration-2-interpretability" class="section level5 unnumbered hasAnchor">
<h5>Consideration 2: Interpretability<a href="generalized-linear-models.html#consideration-2-interpretability" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Choose the link function such that the GLM is <strong>easy to interpret</strong> (= interpretable), making it straightforward to describe the <strong>effects of predictors</strong> on the target mean.</p>
<div id="example-statement" class="section level6 unnumbered hasAnchor">
<h6>Example statement<a href="generalized-linear-models.html#example-statement" class="anchor-section" aria-label="Anchor link to header"></a></h6>
<p>If a continuous predictor <span class="math inline">\(X\)</span> increases by 1 unit, by how much will the target mean change?</p>
<hr />
</div>
</div>
<div id="consideration-3-canonical-link-function" class="section level5 unnumbered hasAnchor">
<h5>Consideration 3: Canonical Link Function<a href="generalized-linear-models.html#consideration-3-canonical-link-function" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<table>
<colgroup>
<col width="30%" />
<col width="24%" />
<col width="44%" />
</colgroup>
<thead>
<tr class="header">
<th>Target Distribution</th>
<th>Canonical Link</th>
<th>Mathematical Form</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Normal</td>
<td>Identity</td>
<td><span class="math inline">\(g(\mu) = \mu\)</span></td>
</tr>
<tr class="even">
<td>Binomial</td>
<td>Logit</td>
<td><span class="math inline">\(g(\pi) = \ln[\pi/(1 - \pi)]\)</span></td>
</tr>
<tr class="odd">
<td>Poisson</td>
<td>Log</td>
<td><span class="math inline">\(g(\mu) = \ln \mu\)</span></td>
</tr>
<tr class="even">
<td>Gamma</td>
<td>Inverse</td>
<td><span class="math inline">\(g(\mu) = 1/\mu\)</span></td>
</tr>
<tr class="odd">
<td>Inverse Gaussian</td>
<td>Squared inverse</td>
<td><span class="math inline">\(g(\mu) = 1/\mu^2\)</span></td>
</tr>
</tbody>
</table>
<p><em>Motivation:</em> To facilitate convergence.</p>
<p>Using the canonical Link function will tend to make convergence faster, and more likely to occur.</p>
<p>However, just because the link function is the canonical link, doesn’t mean we should always use that link function. In practice, there are much more important considerations to keep in mind, like whether the predictors are appropriate, and whether the resulting glm is easy to interpret.</p>
<div id="example-gamma-glm" class="section level6 unnumbered hasAnchor">
<h6>Example: Gamma GLM<a href="generalized-linear-models.html#example-gamma-glm" class="anchor-section" aria-label="Anchor link to header"></a></h6>
<p>Because we know that for Gamma, the mean is always positive: - The <strong>Inverse Link</strong> doesn’t always ensure positive predictions. - The <strong>Log Link</strong> is much more commonly used, because it ensure positive predictions, and makes the GLM easier to interpret.</p>
<hr />
</div>
</div>
</div>
<div id="tweedie-distribution-for-aggregate-loss" class="section level4 unnumbered hasAnchor">
<h4>Tweedie Distribution for Aggregate Loss<a href="generalized-linear-models.html#tweedie-distribution-for-aggregate-loss" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>A random variable <span class="math inline">\(S\)</span> follows the <strong>Tweedie distribution</strong> if <span class="math display">\[
S = \sum_{i=1}^{N} X_i = X_1 + \dots + X_N,
\]</span> where: - <span class="math inline">\(N\)</span> is a Poisson random variable (<strong>claim counts</strong>) - The <span class="math inline">\(X_i\)</span>’s are i.i.d. gamma random variables independent of <span class="math inline">\(N\)</span> (<strong>claim sizes</strong>)</p>
<div id="distributional-characteristics" class="section level5 unnumbered hasAnchor">
<h5>Distributional Characteristics<a href="generalized-linear-models.html#distributional-characteristics" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p><strong>Mixed nature</strong>: - A discrete <strong>probability mass</strong> at zero corresponding to <span class="math inline">\(N = 0\)</span> - A <strong>probability density function</strong> on the positive real line corresponding to <span class="math inline">\(N = 1, 2, \dots\)</span></p>
</div>
<div id="importance-in-exam-pa" class="section level5 unnumbered hasAnchor">
<h5>Importance in Exam PA<a href="generalized-linear-models.html#importance-in-exam-pa" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<ul>
<li>Mentioned in <strong>one and only one slide</strong> of PA modules.</li>
<li><strong>Package</strong> designed specifically for Tweedie will <strong>not be available</strong> on the exam.</li>
<li>If there are exam questions on Tweedie, expect <strong>conceptual</strong> ones testing what Tweedie is and how it serves as an alternative model for loss modeling.</li>
</ul>
<hr />
</div>
</div>
<div id="interpretation-of-glm-coefficients" class="section level4 unnumbered hasAnchor">
<h4>Interpretation of GLM Coefficients<a href="generalized-linear-models.html#interpretation-of-glm-coefficients" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div id="example-1-log-link" class="section level5 unnumbered hasAnchor">
<h5>Example 1: Log Link<a href="generalized-linear-models.html#example-1-log-link" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p><span class="math display">\[
\ln \mu = \eta \quad \Rightarrow \quad \mu = e^{\eta} = e^{\beta_0} \times e^{\beta_1 X_1} \times \dots \times e^{\beta_j X_j} \times \dots \times e^{\beta_p X_p}
\]</span></p>
<ul>
<li><strong>Case 1</strong>: If <span class="math inline">\(X_j\)</span> is numeric and <span class="math inline">\(X_j\)</span> increases by 1:
<ul>
<li><strong>Multiplicative change</strong>: The target mean is multiplied by a factor of <span class="math inline">\(e^{\beta_j}\)</span>.</li>
<li>This means: <span class="math display">\[
\text{new } \mu = e^{\beta_j} \times \text{old } \mu
\]</span></li>
<li><strong>% change</strong>: <span class="math display">\[
\% \text{ change in } \mu = \frac{\text{algebraic change in } \mu}{\text{old } \mu} = \frac{(e^{\beta_j} - 1) \mu}{\mu} = e^{\beta_j} - 1
\]</span></li>
</ul></li>
<li><strong>Note</strong>:
<ul>
<li>If <span class="math inline">\(e^{\beta_j} &gt; 1\)</span>, the mean is <strong>scaled up</strong> (when <span class="math inline">\(\beta_j &gt; 0\)</span>).</li>
<li>If <span class="math inline">\(e^{\beta_j} &lt; 1\)</span>, the mean is <strong>scaled down</strong> (when <span class="math inline">\(\beta_j &lt; 0\)</span>).</li>
</ul></li>
<li><strong>Case 2</strong>: If <span class="math inline">\(X_j\)</span> is the dummy variable for a non-baseline level:
<ul>
<li><strong>Multiplicative change</strong>: Target mean multiplied by a factor of <span class="math inline">\(e^{\beta_j}\)</span>: <span class="math display">\[
\mu_{\text{non-baseline level}} = e^{\beta_j} \times \mu_{\text{baseline level}}
\]</span></li>
<li><strong>% change</strong>: <span class="math inline">\(e^{\beta_j} - 1\)</span> from baseline to non-baseline level.</li>
</ul></li>
</ul>
<hr />
</div>
<div id="example-2-logit-link" class="section level5 unnumbered hasAnchor">
<h5>Example 2: Logit Link<a href="generalized-linear-models.html#example-2-logit-link" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p><em>Just another form of log link!</em></p>
<p><span class="math display">\[
\ln(\text{odds}) = \eta \quad \Leftrightarrow \quad \text{odds} = e^{\eta} = e^{\beta_0} \times e^{\beta_1 X_1} \times \dots \times e^{\beta_j X_j} \times \dots \times e^{\beta_p X_p}
\]</span></p>
<ul>
<li><strong>Example</strong>: If <span class="math inline">\(X_j\)</span> is numeric and <span class="math inline">\(X_j \uparrow 1\)</span>:
<ul>
<li><strong>Multiplicative change</strong>: <span class="math display">\[
\text{new odds} = e^{\beta_j} \times \text{old odds}
\]</span></li>
<li><strong>% change</strong>: <span class="math display">\[
\% \text{ change in odds} = e^{\beta_j} - 1
\]</span></li>
</ul></li>
</ul>
<hr />
</div>
</div>
</div>
<div id="weights-and-offsets" class="section level3 hasAnchor" number="4.1.2">
<h3><span class="header-section-number">4.1.2</span> Weights and Offsets<a href="generalized-linear-models.html#weights-and-offsets" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>So far, we have studied the two components of a GLM, the <strong>Target Distribution</strong> and the <strong>Link Function</strong>.</p>
<p>In this subsection, we are going to look at two concepts that arise frequently when we apply generalized linear models (GLMs) in the actuarial context. The concepts are <strong>Weights</strong> and <strong>Offsets</strong>.</p>
<p>Both concepts are related to <strong>incorporating a measure of exposure</strong> in the GLM to <strong>improve the model fit</strong>. We will look at the mechanics and mathematics</p>
<hr />
<div id="weights" class="section level4 unnumbered hasAnchor">
<h4>Weights<a href="generalized-linear-models.html#weights" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>To understand how weights come up in a GLM setting lets consider the following generic dataset.</p>
<p>There is a target variable, and some predictors, Variable 1, Variable 2, and so on. And we have an exposure variable <span class="math inline">\(E_n\)</span>.</p>
<div id="grouped-data-structure" class="section level5 unnumbered hasAnchor">
<h5>Grouped Data Structure<a href="generalized-linear-models.html#grouped-data-structure" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<table>
<thead>
<tr class="header">
<th>Target Variable</th>
<th>Exposure <span class="math inline">\(E\)</span></th>
<th>Variable 1</th>
<th>Variable 2</th>
<th><span class="math inline">\(\dots\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(y_1\)</span></td>
<td><span class="math inline">\(E_1\)</span></td>
<td><span class="math inline">\(x_{11}\)</span></td>
<td><span class="math inline">\(x_{12}\)</span></td>
<td><span class="math inline">\(\dots\)</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\(y_2\)</span></td>
<td><span class="math inline">\(E_2\)</span></td>
<td><span class="math inline">\(x_{21}\)</span></td>
<td><span class="math inline">\(x_{22}\)</span></td>
<td><span class="math inline">\(\dots\)</span></td>
</tr>
<tr class="odd">
<td><span class="math inline">\(\vdots\)</span></td>
<td><span class="math inline">\(\vdots\)</span></td>
<td><span class="math inline">\(\vdots\)</span></td>
<td><span class="math inline">\(\vdots\)</span></td>
<td><span class="math inline">\(\vdots\)</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\(\vdots\)</span></td>
<td><span class="math inline">\(\vdots\)</span></td>
<td><span class="math inline">\(\vdots\)</span></td>
<td><span class="math inline">\(\vdots\)</span></td>
<td><span class="math inline">\(\vdots\)</span></td>
</tr>
</tbody>
</table>
<p><strong>Characteristic</strong>:<br />
Each <span class="math inline">\(y\)</span> value is an outcome <strong>averaged</strong> by the corresponding <span class="math inline">\(E\)</span> value.</p>
<p><strong>Example</strong>:<br />
<span class="math display">\[
y = \text{average } \#\text{ of claims for a group} = \frac{\text{total } \#\text{ claims}}{E}
\]</span> with <span class="math inline">\(E = \#\text{policyholders in a group}\)</span>.</p>
</div>
<div id="motivation" class="section level5 unnumbered hasAnchor">
<h5>Motivation<a href="generalized-linear-models.html#motivation" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<ul>
<li><strong>Larger exposure</strong> <span class="math inline">\(\Rightarrow\)</span> less variance, more precision</li>
<li>Recall: <span class="math inline">\(\text{Var}(\bar{X}) = \frac{\text{Var}(X_1)}{n}\)</span> if i.i.d.</li>
</ul>
</div>
<div id="suggested-approach" class="section level5 unnumbered hasAnchor">
<h5>Suggested Approach<a href="generalized-linear-models.html#suggested-approach" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<ul>
<li>Attach a <strong>higher weight</strong> to observations with a <strong>larger exposure</strong> <span class="math inline">\(\Rightarrow\)</span> Improve the reliability of fitting procedure.</li>
</ul>
<hr />
</div>
</div>
<div id="offsets" class="section level4 unnumbered hasAnchor">
<h4>Offsets<a href="generalized-linear-models.html#offsets" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div id="grouped-data-structure-1" class="section level5 unnumbered hasAnchor">
<h5>Grouped Data Structure<a href="generalized-linear-models.html#grouped-data-structure-1" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<table>
<thead>
<tr class="header">
<th>Target Variable</th>
<th>Exposure <span class="math inline">\(E\)</span></th>
<th>Variable 1</th>
<th>Variable 2</th>
<th><span class="math inline">\(\dots\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(y_1\)</span></td>
<td><span class="math inline">\(E_1\)</span></td>
<td><span class="math inline">\(x_{11}\)</span></td>
<td><span class="math inline">\(x_{12}\)</span></td>
<td><span class="math inline">\(\dots\)</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\(y_2\)</span></td>
<td><span class="math inline">\(E_2\)</span></td>
<td><span class="math inline">\(x_{21}\)</span></td>
<td><span class="math inline">\(x_{22}\)</span></td>
<td><span class="math inline">\(\dots\)</span></td>
</tr>
<tr class="odd">
<td><span class="math inline">\(\vdots\)</span></td>
<td><span class="math inline">\(\vdots\)</span></td>
<td><span class="math inline">\(\vdots\)</span></td>
<td><span class="math inline">\(\vdots\)</span></td>
<td><span class="math inline">\(\vdots\)</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\(\vdots\)</span></td>
<td><span class="math inline">\(\vdots\)</span></td>
<td><span class="math inline">\(\vdots\)</span></td>
<td><span class="math inline">\(\vdots\)</span></td>
<td><span class="math inline">\(\vdots\)</span></td>
</tr>
</tbody>
</table>
<p><strong>Characteristic</strong>:<br />
Each <span class="math inline">\(y\)</span> value is an outcome <strong>summed (aggregated)</strong> over <span class="math inline">\(E\)</span> units.</p>
<p><strong>Example</strong>:<br />
For a group, <span class="math display">\[
y = \text{total } \#\text{claims for a group}
\]</span> where <span class="math inline">\(E = \#\text{policyholders in a group}\)</span>.</p>
</div>
<div id="motivation-1" class="section level5 unnumbered hasAnchor">
<h5>Motivation<a href="generalized-linear-models.html#motivation-1" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<ul>
<li><strong>Larger exposure</strong> <span class="math inline">\(\Rightarrow\)</span> larger <span class="math inline">\(y\)</span></li>
</ul>
</div>
<div id="mathematics" class="section level5 unnumbered hasAnchor">
<h5>Mathematics<a href="generalized-linear-models.html#mathematics" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Consider the following log-link Generalized Linear Model (GLM) with an offset:</p>
<p><span class="math display">\[
\ln \mu = \ln E_{\text{offset}} + \eta = \ln E + \left( \beta_0 + \beta_1 X_1 + \dots + \beta_p X_p \right)
\]</span></p>
<div id="about-the-offset" class="section level6 unnumbered hasAnchor">
<h6>About the Offset<a href="generalized-linear-models.html#about-the-offset" class="anchor-section" aria-label="Anchor link to header"></a></h6>
<ul>
<li><p>A special predictor whose regression coefficient is known to be one.</p></li>
<li><p>Model equation equivalent to: <span class="math display">\[
\mu = E \exp(\eta)
\]</span></p>
<p>i.e., <span class="math inline">\(\mu\)</span> and <span class="math inline">\(E\)</span> are in <strong>direct proportion</strong>.</p></li>
</ul>
<hr />
</div>
</div>
<div id="example-specifying-an-appropriate-offset" class="section level5 unnumbered hasAnchor">
<h5>Example: Specifying an Appropriate Offset<a href="generalized-linear-models.html#example-specifying-an-appropriate-offset" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<ul>
<li><strong>NumClaims</strong>: Number of claims of a policyholder over a time period</li>
<li><strong>Time</strong>: The length of time (in years) a policyholder is observed</li>
<li><strong>Age</strong>: Age of a policyholder</li>
<li><strong>Gender</strong>: Gender of a policyholder</li>
<li><strong>RiskCat</strong>: Risk category to which a policyholder belongs</li>
</ul>
<p>Use these variables to set up a GLM for <strong>NumClaims</strong> with an appropriate offset.</p>
<div id="offset" class="section level6 unnumbered hasAnchor">
<h6>Offset<a href="generalized-linear-models.html#offset" class="anchor-section" aria-label="Anchor link to header"></a></h6>
<p>Expect <strong>NumClaims</strong> to be proportional to <strong>Time</strong>.</p>
</div>
<div id="solution" class="section level6 unnumbered hasAnchor">
<h6>Solution<a href="generalized-linear-models.html#solution" class="anchor-section" aria-label="Anchor link to header"></a></h6>
<ul>
<li><strong>Target distribution</strong>: Poisson</li>
<li><strong>Predictors</strong>: Age, Gender, RiskCat</li>
<li><strong>Link</strong>: Log</li>
<li><strong>Offset</strong>: <span class="math inline">\(\ln(\text{Time})\)</span> (Note: Use <span class="math inline">\(\ln(\text{Time})\)</span>, not Time itself)</li>
</ul>
<p>For the target distribution, we choose the Poisson distribution, because the target variable is <code>NumClaims</code> which takes only non-negative integers.</p>
<p>The predictors are <code>Age</code>, <code>Gender</code> and <code>RiskCat</code>.</p>
<p>For the link function, we choose the <strong>Log Link</strong>, because it ensures positive values, is easy to interpret and is the canonical link function of the Poisson distribution.</p>
<p>The Offset should be on the same scale as the transformed target mean (e.g., Log Link Function), therefore the offset should be <span class="math inline">\(ln(Time)\)</span>. We use this offset to capture the proportional relationship between the number of claims and time.</p>
<hr />
</div>
</div>
</div>
<div id="weights-vs.-offsets" class="section level4 unnumbered hasAnchor">
<h4>Weights vs. Offsets<a href="generalized-linear-models.html#weights-vs.-offsets" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div id="similarities" class="section level5 unnumbered hasAnchor">
<h5>Similarities<a href="generalized-linear-models.html#similarities" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p><strong>Same Purpose:</strong> Incorporate a measure of <em>exposure</em></p>
</div>
<div id="differences" class="section level5 unnumbered hasAnchor">
<h5>Differences<a href="generalized-linear-models.html#differences" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<table>
<colgroup>
<col width="27%" />
<col width="37%" />
<col width="34%" />
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Weights</strong></th>
<th><strong>Offsets</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Nature of target variable</strong></td>
<td>Average</td>
<td>Aggregate</td>
</tr>
<tr class="even">
<td><strong>Role of exposure</strong></td>
<td>Affect <em>variance</em></td>
<td>Affect <em>mean</em></td>
</tr>
<tr class="odd">
<td></td>
<td>Larger weight, lower <em>variance</em></td>
<td>Larger offset, larger <em>mean</em></td>
</tr>
</tbody>
</table>
</div>
<div id="interesting-special-case-log-link-poisson-glm" class="section level5 unnumbered hasAnchor">
<h5>Interesting Special Case: Log-link Poisson GLM<a href="generalized-linear-models.html#interesting-special-case-log-link-poisson-glm" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<ol style="list-style-type: decimal">
<li><strong>Model 1:</strong> A Poisson GLM for <span class="math inline">\(Y\)</span> (claim count) using <span class="math inline">\(\ln E\)</span> as the <em>offset</em></li>
<li><strong>Model 2:</strong> A Poisson GLM for <span class="math inline">\(\frac{Y}{E}\)</span> (claim frequency) using <span class="math inline">\(E\)</span> as the <em>weight</em></li>
</ol>
<hr />
</div>
</div>
</div>
<div id="fitting-and-assessing-the-performance-of-a-glm" class="section level3 hasAnchor" number="4.1.3">
<h3><span class="header-section-number">4.1.3</span> Fitting and Assessing the Performance of a GLM<a href="generalized-linear-models.html#fitting-and-assessing-the-performance-of-a-glm" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="coefficient-estimates" class="section level4 unnumbered hasAnchor">
<h4>Coefficient Estimates<a href="generalized-linear-models.html#coefficient-estimates" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><strong>Method</strong><br />
Least squares estimation <span class="math inline">\(\rightarrow\)</span> Maximum likelihood estimation<br />
(for linear models)      (for GLMs)</p>
<div id="mle-how-it-works-conceptually" class="section level5 unnumbered hasAnchor">
<h5>MLE: How it works conceptually<a href="generalized-linear-models.html#mle-how-it-works-conceptually" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<ul>
<li>Form the (log)likelihood function:<br />
<span class="math inline">\(L(\beta_0, \ldots, \beta_p) = \ldots\)</span><br />
and <span class="math inline">\(l = \ln L\)</span><br />
(in terms of <span class="math inline">\(\beta\)</span>’s)</li>
<li>Choose the <span class="math inline">\(\beta\)</span>’s to maximize <span class="math inline">\(l(\beta_0, \ldots, \beta_p)\)</span></li>
</ul>
<p><strong>Warning</strong><br />
Algorithm may <strong>not converge</strong> <span class="math inline">\(\Rightarrow\)</span> no estimates found</p>
</div>
<div id="predictions" class="section level5 unnumbered hasAnchor">
<h5>Predictions<a href="generalized-linear-models.html#predictions" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p><span class="math display">\[
g(\mu_i) = \beta_0 + \beta_1 X_{i1} + \ldots + \beta_p X_{ip}
\]</span></p>
<p><span class="math display">\[
\mu_i = g^{-1}(\beta_0 + \beta_1 X_{i1} + \ldots + \beta_p X_{ip})
\]</span></p>
<p>Then we replace the <span class="math inline">\(\beta\)</span>’s with <span class="math inline">\(\hat{\beta}\)</span> to replace the coefficients with the coefficient estimates:</p>
<p><span class="math display">\[
g(\mu_i) = \beta_0 + \beta_1 X_{i1} + \ldots + \beta_p X_{ip}
\]</span></p>
<p><span class="math display">\[
\mu_i = g^{-1}(\beta_0 + \beta_1 X_{i1} + \ldots + \beta_p X_{ip})
\]</span></p>
<p>That’s how we get the predicted target mean.</p>
<hr />
</div>
<div id="global-goodness-of-fit-measure-deviance" class="section level5 unnumbered hasAnchor">
<h5>Global Goodness-of-fit Measure: Deviance<a href="generalized-linear-models.html#global-goodness-of-fit-measure-deviance" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>After fitting a GLM, how do we quantify the goodness of fit to the training data?</p>
<p>For linear models, we used the RSS or <span class="math inline">\(R^2\)</span>, however the <span class="math inline">\(R^2\)</span> is no longer a good measure, because it is no longer between 0 and 1. Therefore, we need more general goodness-of-fit measures for GLMs.</p>
<p>That brings us to the concept of <strong>Deviance</strong>.</p>
<p><strong>Measure</strong><br />
RSS or <span class="math inline">\(R^2\)</span> <span class="math inline">\(\rightarrow\)</span> Deviance<br />
(for linear models)      (for GLMs)</p>
<div id="deviance" class="section level6 unnumbered hasAnchor">
<h6>Deviance<a href="generalized-linear-models.html#deviance" class="anchor-section" aria-label="Anchor link to header"></a></h6>
<ul>
<li><strong>Idea</strong>: Compare fitted GLM with saturated GLM (perfect fit) with respect to goodness of fit.</li>
<li><strong>Definition</strong>:<br />
<span class="math display">\[
\text{Deviance} = 2(l_{\text{SAT}} - l) \geq 0,
\]</span> where:
<ul>
<li><span class="math inline">\(l_{\text{SAT}}\)</span> = maximized log-likelihood of the saturated GLM<br />
</li>
<li><span class="math inline">\(l\)</span> = maximized loglikelihood of the fitted GLM</li>
</ul></li>
<li><strong>Criterion</strong>: The lower, the better the fit to training data</li>
</ul>
<p><strong>Warning</strong><br />
Deviance depends on the target distribution! We cannot say that one GLM is better than another GLM if the target distribution is different, even if it has a lower deviance: - Deviance of a Poisson GLM: 100 (better fit? No!) - Deviance of a gamma GLM: 200</p>
<hr />
</div>
</div>
<div id="local-goodness-of-fit-measure-deviance-residuals" class="section level5 unnumbered hasAnchor">
<h5>Local Goodness-of-fit Measure: Deviance Residuals<a href="generalized-linear-models.html#local-goodness-of-fit-measure-deviance-residuals" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p><strong>Residuals</strong><br />
Raw residual <span class="math inline">\(e_i = y_i - \hat{\mu}_i\)</span> <span class="math inline">\(\rightarrow\)</span> Deviance residual <span class="math inline">\(d_i\)</span><br />
(for linear models)      (for GLMs)</p>
<div id="definition" class="section level6 unnumbered hasAnchor">
<h6>Definition<a href="generalized-linear-models.html#definition" class="anchor-section" aria-label="Anchor link to header"></a></h6>
<ul>
<li><strong>Signed square root</strong> of the <span class="math inline">\(i\)</span>th term in the deviance formula.</li>
<li>Positive if <span class="math inline">\(y_i &gt; \hat{\mu}_i\)</span> and negative if <span class="math inline">\(y_i &lt; \hat{\mu}_i\)</span>.</li>
</ul>
</div>
<div id="example" class="section level6 unnumbered hasAnchor">
<h6>Example<a href="generalized-linear-models.html#example" class="anchor-section" aria-label="Anchor link to header"></a></h6>
<ul>
<li>Deviance formula for a Poisson GLM:<br />
<span class="math display">\[
D = 2 \sum_{i=1}^n \left[ y_i \ln \frac{y_i}{\hat{\mu}_i} - (y_i - \hat{\mu}_i) \right]
\]</span></li>
<li><span class="math inline">\(y_i = 59\)</span> and <span class="math inline">\(\hat{\mu}_i = 71\)</span> for the <span class="math inline">\(i\)</span>th training observation.</li>
<li><span class="math inline">\(d_i = \text{sign}(y_i - \hat{\mu}_i) \sqrt{2 \left[ y_i \ln \frac{y_i}{\hat{\mu}_i} - (y_i - \hat{\mu}_i) \right]} = - \sqrt{2 \left[ 59 \ln \frac{59}{71} - (59 - 71) \right]} = -1.47\)</span></li>
</ul>
</div>
</div>
<div id="deviance-residuals-as-diagnostic-tools" class="section level5 unnumbered hasAnchor">
<h5>Deviance Residuals as Diagnostic Tools<a href="generalized-linear-models.html#deviance-residuals-as-diagnostic-tools" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>If the fitted GLM is “good,” then the deviance residuals should:</p>
<ul>
<li>Be approximately <strong>normally distributed</strong> for most target distributions in the linear exponential family (Exception: <strong>Binomial</strong>).</li>
<li>Have <strong>no systematic patterns</strong> when considered on their own and with respect to the predictors.</li>
<li>Have approximately <strong>constant variance</strong> upon standardization (i.e., <strong>homoscedastic</strong>).</li>
</ul>
<div id="q-q-plot-for-deviance-residuals" class="section level6 unnumbered hasAnchor">
<h6>Q-Q plot for deviance residuals<a href="generalized-linear-models.html#q-q-plot-for-deviance-residuals" class="anchor-section" aria-label="Anchor link to header"></a></h6>
<ul>
<li>Model is adequate <span class="math inline">\(\checkmark \Rightarrow\)</span> Points <strong>fall closely on a straight line</strong></li>
<li>Points deviate substantially from a straight line <span class="math inline">\(\Rightarrow\)</span> Model is inadequate <span class="math inline">\(\times\)</span></li>
</ul>
<p><strong>Note</strong>: For this method to work, the target distribution <strong>need not be normal</strong>.</p>
<hr />
</div>
</div>
<div id="penalized-likelihood-measures-aic-and-bic" class="section level5 unnumbered hasAnchor">
<h5>Penalized Likelihood Measures: AIC and BIC<a href="generalized-linear-models.html#penalized-likelihood-measures-aic-and-bic" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<ul>
<li><strong>Deviance</strong>: Goodness of fit on training data</li>
<li><strong>AIC/BIC</strong>: Goodness of fit on training data + model complexity</li>
</ul>
<div id="definition-of-aic-and-bic" class="section level6 unnumbered hasAnchor">
<h6>Definition of AIC and BIC<a href="generalized-linear-models.html#definition-of-aic-and-bic" class="anchor-section" aria-label="Anchor link to header"></a></h6>
<ul>
<li><span class="math inline">\(\text{AIC} = -2l + 2p\)</span>
<ul>
<li>where <span class="math inline">\(l\)</span> represents goodness of fit</li>
<li>and <span class="math inline">\(p\)</span> represents complexity</li>
</ul></li>
<li><span class="math inline">\(\text{BIC} = -2l + p \ln(n_{\text{tr}})\)</span>
<ul>
<li>where <span class="math inline">\(n_{\text{tr}}\)</span> is the number of training observations</li>
</ul></li>
</ul>
<p>Perform stepwise selection using forward/backward selection and <strong>AIC/BIC</strong>.</p>
</div>
<div id="regularization-3" class="section level6 unnumbered hasAnchor">
<h6>Regularization<a href="generalized-linear-models.html#regularization-3" class="anchor-section" aria-label="Anchor link to header"></a></h6>
<ul>
<li>Find estimates by minimizing <strong>deviance</strong> (goodness of fit) + <strong>regularization penalty</strong> (complexity).</li>
<li>Same ideas in Chapter 3 apply.</li>
</ul>
<hr />
</div>
</div>
</div>
</div>
<div id="performance-metrics-for-classifiers" class="section level3 hasAnchor" number="4.1.4">
<h3><span class="header-section-number">4.1.4</span> Performance Metrics for Classifiers<a href="generalized-linear-models.html#performance-metrics-for-classifiers" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<hr />
</div>
</div>
<div id="case-study-1-glms-for-continuous-target-variables" class="section level2 hasAnchor" number="4.2">
<h2><span class="header-section-number">4.2</span> Case Study 1: GLMs for Continuous Target Variables<a href="generalized-linear-models.html#case-study-1-glms-for-continuous-target-variables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="data-preparation" class="section level3 hasAnchor" number="4.2.1">
<h3><span class="header-section-number">4.2.1</span> Data Preparation<a href="generalized-linear-models.html#data-preparation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
</div>
<div id="model-construction-and-evaluation" class="section level3 hasAnchor" number="4.2.2">
<h3><span class="header-section-number">4.2.2</span> Model Construction and Evaluation<a href="generalized-linear-models.html#model-construction-and-evaluation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
</div>
<div id="model-validation-and-interpretation" class="section level3 hasAnchor" number="4.2.3">
<h3><span class="header-section-number">4.2.3</span> Model Validation and Interpretation<a href="generalized-linear-models.html#model-validation-and-interpretation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
</div>
</div>
<div id="case-study-2-glms-for-binary-target-variables" class="section level2 hasAnchor" number="4.3">
<h2><span class="header-section-number">4.3</span> Case Study 2: GLMs for Binary Target Variables<a href="generalized-linear-models.html#case-study-2-glms-for-binary-target-variables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="data-exploration-and-preparation" class="section level3 hasAnchor" number="4.3.1">
<h3><span class="header-section-number">4.3.1</span> Data Exploration and Preparation<a href="generalized-linear-models.html#data-exploration-and-preparation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
</div>
<div id="model-construction-and-selection" class="section level3 hasAnchor" number="4.3.2">
<h3><span class="header-section-number">4.3.2</span> Model Construction and Selection<a href="generalized-linear-models.html#model-construction-and-selection" class="anchor-section" aria-label="Anchor link to header"></a></h3>
</div>
<div id="interpretation-of-model-results" class="section level3 hasAnchor" number="4.3.3">
<h3><span class="header-section-number">4.3.3</span> Interpretation of Model Results<a href="generalized-linear-models.html#interpretation-of-model-results" class="anchor-section" aria-label="Anchor link to header"></a></h3>
</div>
</div>
<div id="case-study-3-glms-for-count-and-aggregate-loss-variables" class="section level2 hasAnchor" number="4.4">
<h2><span class="header-section-number">4.4</span> Case Study 3: GLMs for Count and Aggregate Loss Variables<a href="generalized-linear-models.html#case-study-3-glms-for-count-and-aggregate-loss-variables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="data-exploration-and-preparation-1" class="section level3 hasAnchor" number="4.4.1">
<h3><span class="header-section-number">4.4.1</span> Data Exploration and Preparation<a href="generalized-linear-models.html#data-exploration-and-preparation-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
</div>
<div id="model-construction-and-evaluation-1" class="section level3 hasAnchor" number="4.4.2">
<h3><span class="header-section-number">4.4.2</span> Model Construction and Evaluation<a href="generalized-linear-models.html#model-construction-and-evaluation-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
</div>
<div id="predictions-1" class="section level3 hasAnchor" number="4.4.3">
<h3><span class="header-section-number">4.4.3</span> Predictions<a href="generalized-linear-models.html#predictions-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="linear-models.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": {}
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["soa-exam-pa.pdf", "soa-exam-pa.epub"],
"search": {
"engine": "lunr",
"options": null
},
"toc": {
"collapse": "subsection",
"scroll_highlight": true
},
"theme": "journal",
"toolbar": {
"position": "fixed"
},
"info": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
